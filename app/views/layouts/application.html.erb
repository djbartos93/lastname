<!DOCTYPE html>
<html>
  <head>
    <title>Lastname</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>


  </head>

  <body id="top">

    <% if user_signed_in? %>
  Signed in as <%= current_user.email %>. Not you?
  <%= link_to "Edit profile", edit_user_registration_path %>
  <%= link_to "Sign out", destroy_user_session_path, method: :delete %>
<% else %>
  <%= link_to "Sign up", new_user_registration_path %> or
  <%= link_to "sign in", new_user_session_path %>
<% end %>


    <p class="notice"><%= notice %></p>
    <p class="alert"><%= alert %></p>

    <%= yield %>


    <a href="javascript:void(0)" id="theme-switch" onclick="switchMode(this)">☀️</a>
  </body>

  <script>
  if (
    window.matchMedia &&
    window.matchMedia("(prefers-color-scheme: dark)").matches
  ) {
    document.body.classList.add("dark");
    document.querySelector('#theme-switch').innerHTML = "🌙"
  }

  function switchMode(el) {
    const bodyClass = document.body.classList;
    bodyClass.contains("dark")
      ? ((el.innerHTML = "☀️"), bodyClass.remove("dark"))
      : ((el.innerHTML = "🌙"), bodyClass.add("dark"));
  }
</script>
</html>
